Первоначальная настройка сервиса.
1. Установить томкат 8.
2. В домашней папке Томкат 8 
(у меня это C:\Program Files\Apache Software Foundation\Tomcat 8.5\bin) 
создать файл companyName.txt, куда записать название компании и адрес для печати на чеке.
Например:
ГБУЗ АО АМОКБ
414056,Астрахань,Татищева,2
3. Задать параметры подключения к com: имя порта и скорость (у меня COM1 и 115200)
Для этого:
Архив posf.war открыть через 7-zip \WEB-INF\classes\jpos.xml - f4 (редактировать)
найти 
<prop name="portName" type="String" value="COM3"/>
<prop name="baudRate" type="String" value="115200"/>
Задать значения.
Найти их можно в Тесте Драйвера (скачать с сайта shtrihpos) - Поиск оборудования. 
Укажет номер порта и скорость, на которой найдёт подключённый ККМ.
4. Обновить файл в архиве.
5. В папку System32 добавить библиотеки rxtxParallel.dll и rxtxSerial.dll.
6. Задеплоить на томкат. Для этого можно на дом. странице томкат - WebApps - deploy .war-файл, 
а можно в webapps кинуть (tomcat должен быть запущен за деплоя!)
7. Настроить роль пользователя и адрес рест-сервиса:
Работа с кассовыми аппаратами
KKM_WEB_SERVER	http://192.168.3.239:8888	Сервер с подключенным кассовым аппаратом.
=============================================
Инструкция по обновлению программного продукта:
1. Undeploy старый posf.war. Для этого можно зайти на домашней странице:
WebApps - undeploy .war-файл (posf).
2. Deploy новая posf.war.
3. Проверить параметры подключения (com,скорость).
4. Перезапустить tomcat (обязательно).
=============================================
Инструкция по смене ККМ (с точки зрения программного продукта):
1. Остановить tomcat.
2. Сменить ккм.
3. Запустить tomcat.
4. Для проверки отправить на печать X-отчёт.
=============================================
Если возникают проблемы:
1. В домашней папке tomcat просмотреть логи (tomcat_home_folder\....\bin\logs\дата)
2. Проверить подключение к ККМ. Для этого:
Просмотреть параметры подключения в тесте драйвера (Поиск оборудования:
укажет номер порта и скорость, на которой найдёт подключённый ККМ). 
Если НЕ совпадают, запомнить значения в тесте драйвера (они правильные), далее:
	2.1 Undeploy старый posf.war. Для этого можно зайти на домашней странице:
  WebApps - undeploy .war-файл (posf).
	2.2 Архив posf.war открыть через 7-zip \WEB-INF\classes\jpos.xml - f4 (редактировать)
	Архив posf.war открыть через 7-zip \WEB-INF\classes\jpos.xml - f4 (редактировать)
	найти 
	<prop name="portName" type="String" value="COM3"/>
	<prop name="baudRate" type="String" value="115200"/>
	Задать значения.
3. Просмотреть ошибку в tomcat_home_folder\....\bin\startup, 
т.е. запустить tomcat через cmd. Если написано что-то про *.dll,
то проблема с библиотеках. В этой версии драйвера javapos не используется один appender,
при первом запуске в этом окне может быть выведено такое сообщение, это нормально.
4. Нельзя работать одновременно и в тесте драйвера, и в программе. Никогда.
В случае, если нужно запустить тест драйвер, необходимо закрыть tomcat. И наоборот.
